# Modern Chat - 现代化聊天系统

一个基于 PHP + MySQL + HTML 的现代化聊天系统，具有现代化的 UI 设计和丰富的功能。

---

   ### 已部署好的体验网站

  - https://chat.hyacine.com.cn/chat

---
## 功能特性

- 📱 **现代化 UI 设计** - 响应式设计，适配各种设备
- 🔐 **用户认证** - 安全的注册和登录系统
- 👥 **好友管理** - 添加好友、接受请求、查看好友列表
- 💬 **实时聊天** - 发送文本消息和文件
- 📎 **文件传输** - 支持发送小于 150MB 的文件
- 🟢 **在线状态** - 显示好友是否在线
- 🔍 **好友搜索** - 快速查找好友
- 📱 **响应式设计** - 适配移动端和桌面端
- 📝 **反馈系统** - 用户可以提交反馈，管理员可以查看和管理反馈
- 🔔 **反馈通知** - 用户提交的反馈被处理后会收到通知
- 👥 **群聊功能** - 支持创建群聊、邀请好友加入群聊
- 📨 **群聊邀请** - 支持邀请好友加入群聊，包含审批流程
- ⏳ **入群申请** - 普通成员邀请的好友需要管理员或群主审批才能入群

## 技术栈

- **前端**: HTML5, CSS3, JavaScript
- **后端**: PHP 7.4+
- **数据库**: MySQL 5.7+
- **数据库驱动**: PDO

## 安装步骤

### 1. 克隆或下载项目

将项目文件下载到您的 web 服务器目录中。

### 2. 创建数据库

使用 MySQL 客户端执行 `db.sql` 文件来创建数据库和基础表：

```bash
mysql -u root -p < db.sql
```

然后执行 `tmp3.sql` 文件来创建反馈表：

```bash
mysql -u root -p < tmp3.sql
```

接着执行 `create_group_invitation_tables.sql` 文件来创建群聊邀请相关表：

```bash
mysql -u root -p < create_group_invitation_tables.sql
```

或者在 phpMyAdmin 中分别导入 `db.sql`、`tmp3.sql` 和 `create_group_invitation_tables.sql` 文件。

### 3. 配置数据库连接

编辑 `config.php` 文件，配置您的数据库连接信息：

```php
define('DB_HOST', 'localhost');
define('DB_NAME', 'chat');
define('DB_USER', 'root');
define('DB_PASS', 'your_password');
```

### 4. 配置文件上传

确保 `uploads/` 目录具有写入权限：

```bash
chmod 777 uploads/
```

### 5. 启动 web 服务器

使用 Apache 或 Nginx 启动您的 web 服务器，然后访问项目目录。

## 使用说明

### 1. 注册账户

访问 `register.php` 页面，填写用户名、邮箱和密码进行注册。

### 2. 登录系统

访问 `login.php` 页面，使用注册的邮箱和密码登录。

### 3. 添加好友

在聊天页面的搜索栏中输入好友的用户名，发送好友请求。

### 4. 开始聊天

在好友列表中选择一个好友，开始发送消息和文件。

### 5. 提交反馈

1. 在聊天页面点击右上角的三个点图标，选择"反馈问题"
2. 在弹出的反馈表单中输入您的问题描述
3. （可选）上传相关的图片
4. 点击"提交反馈"按钮

### 6. 管理反馈（管理员）

1. 登录管理员账户
2. 在管理页面点击"反馈管理"标签
3. 查看所有用户提交的反馈
4. 点击"反馈已收到"按钮标记反馈为已处理
5. （可选）点击"删除反馈"按钮删除反馈

### 7. 创建和使用群聊

1. 在聊天页面点击"建立群聊"按钮
2. 输入群聊名称
3. 选择要邀请的好友
4. 点击"创建群聊"按钮

### 8. 邀请好友加入群聊

1. 在群聊页面点击右上角的三个点图标
2. 选择"邀请好友"选项
3. 在弹出的好友列表中选择要邀请的好友
4. 点击"邀请"按钮发送邀请

### 9. 处理群聊邀请

- 当您收到群聊邀请时，系统会在右上角显示通知
- 点击"接受"按钮接受邀请，或者点击"拒绝"按钮拒绝邀请
- 如果邀请您的用户是管理员或群主，您会直接加入群聊
- 如果邀请您的用户不是管理员或群主，您的入群申请会发送给管理员或群主审批

### 10. 查看和处理入群申请（管理员/群主）

1. 作为管理员或群主，您会收到入群申请通知
2. 点击"批准"按钮批准申请，或者点击"拒绝"按钮拒绝申请
3. 被批准的用户会直接加入群聊
4. 被拒绝的用户不会加入群聊

### 11. 查看反馈通知

- 当您提交的反馈被管理员标记为已收到时，您下次登录系统会收到通知
- 通知会显示在聊天页面的右上角，点击关闭按钮即可关闭通知

---

## 安全说明

- 密码使用 PHP 内置的 `password_hash()` 函数进行哈希存储
- 使用 PDO 预处理语句防止 SQL 注入
- 文件上传经过严格的类型和大小验证
- 错误信息不包含敏感内容

## 浏览器支持

- Chrome (推荐)
- Firefox
- Safari
- Edge

## 许可证

MIT License


